# LANとWAN

LANとWANの区別は曖昧になってきたが、通信事業者が存在するかで判断するのが早い。

## 物理層の規格

- 同軸ケーブル
    - 中心の銅線が大口径で、その周りを絶縁体と塩化ビニールで保護する
    - `10BASE5`: 伝送距離は500m、通信速度は10Mbps
    - `10BASE2`: 伝送距離は185m、通信速度は10Mbps
- ツイストペア
    - 4本のより対線からなる銅線ケーブル
    - 規格によって4本のうちの2本しか使わないケースもある
    - `10BASE-T`:    通信速度は 10   Mbps、ケーブルカテゴリ3   、2本のより対線を使用 (双方向)
    - `100BASE-TX`:  通信速度は 100  Mbps、ケーブルカテゴリ5   、2本のより対線を使用 (双方向)
    - `1000BASE-T`:  通信速度は 1000 Mbps、ケーブルカテゴリ5e  、4本のより対線を使用 (単方向)
    - `1000BASE-TX`: 通信速度は 1000 Mbps、ケーブルカテゴリ6   、4本のより対線を使用 (双方向)
    - `10GBASE-T`:   通信速度は 10   Gbps、ケーブルカテゴリ6A/7、4本のより対線を使用 (単方向)
    - オートネゴシエーション: 通信機器同志が互いの通信速度を自動検出して設定を同期させる機能
    - UTP: シールド未処理のツイストペアケーブル
    - STP: シールド処理されたツイストペアケーブル
    - FTP: Foiled Twisted Pair cable
    - Auto MDI/MDI-X
        - 通信環境を認識して、適切な設定を自動で行う技術
        - MDIタイプのポート: 送受信がストレート状態。例えばDTE(データ端末装置)
        - MDI-Xタイプのポート: 送受信がクロス状態。例えばDCE
- 光ファイバ
    - 金属テーブルは減衰によって長距離伝送ができなかったり伝送エラーなどを引き起こす
    - それに対して光ファイバは非常に伝送距離が長く、伝送品質も高い
    - シングルモード
        - 光ファイバのコア径が10μm程度
        - 原料として石英を使うので、高価で折り曲げに弱い
        - 長距離伝送や高速伝送が可能
    - マルチモード
        - 光ファイバのコア径が50μm程度
        - 原料はプラスチックで、安価で折り曲げに強い
        - 長距離・大容量伝送には向かない
- リピータ
    - 電流の増幅と信号整形のみを行う
    - 段数制限: あまりリピータを多段化させて使うと伝送の遅延が生じて、CSMA/CS方式のコリジョンをうまく検出できないための制限
        - スイッチングハブの使用により、気にする必要がなくなった
    - `リピータ → ハブ`: リピータハブ、マルチポートリピータ
        - 延長コードからマルチタップに進化したようなもの
    - `ハブ → スイッチングハブ`: ブリッジをマルチポート化したもの
        - 現在ではほとんどのネットワークでスイッチングハブが使われている

## ネットワークトポロジ

ネットワークを構築する際の雛形、テンプレート

### バス型トポロジ

- 基幹となるケーブルを一本敷設し、そこから支線を派生する
- あるノードの故障は他のノードに波及しない
- ノードの通信中は回線を独占してしまう
- ネットワーク構成を柔軟に変更できない

### スター型トポロジ (ハブ&スポーク型)

- 現在の主流のトポロジで、車輪のように中央のハブから何本のスポークが伸びているような形態
- ケーブル同士の関係は対等で、柔軟にネットワークを再構築できる
- ハブが故障した場合、それに接続したノードは全て通信ができなくなる

### リンク型トポロジ

- トークンパッシング方式を利用したもの
- ケーブルはリンク状に配置される
- ネットワーク上の通信衝突が発生しない
- １つのノードが故障すると、全てのノードの通信ができなくなる
- コンセントレータ
    - スター型のハブのような機器
    - リンク型をスター型のように取り扱える

### メッシュ型トポロジ

- 全てのノード間をケーブリングした形態
- 通信の衝突が発生しないし、迂回できるのでネットワーク全体の可用性が上がる
- ケーブリングが煩雑で、敷設も管理も非常に手間がかかる
- `フルメッシュ型トポロジ`: 全てのノードがお互いを結んでいる
- `パーシャルメッシュ型トポロジ`: フルメッシュ型トポロジ以外

## データリンク層の規格
