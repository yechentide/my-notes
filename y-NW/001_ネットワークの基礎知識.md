# ネットワークの基礎知識

## プロトコル標準化の推進機関

- IETF `(Internet Engineering Task Force)`
    - RFCという企画文書を発行する(提案の形をとる)
    - RFC (Request For Comments)
- ISO `(International Organization for Standardization)`
    - 国際標準化機構
- ITU `(International Telecommunications Union)`
    - 国際電気通信連合
- ITU-T/ITU-TS `(ITU Telecommunication sector)`
    - ITUの下部組織
    - 電気通信技術の標準化を担当する部門
- IEEE `(Institute of Electrical and Electronic Engineers)`
    - 米国電気電子学会
- NIST `(National Institute of Standards and Technology)`
    - 米国標準技術局

## OSI基本参照モデル

### 用語

- **プロトコルスイート**: 相性などを考慮した各層のプロトコルのセット
    - IPA試験では`TCP/IPプロトコルスイート`からの出題が多い
- エンティティ: 各層に存在する通信機器の実体
- インタフェース: 異なる層のエンティティ同士が通信する窓口

### モデル図

OSI基本参照モデルはISOが決めた標準モデルである。  
第4層までの下位層は通信そのものを制御し、第5~7層はやり取りするデータの形を規定している。

| 階層  |         名称         |     対応する機器     |
|:-----:|:--------------------:|:------------:|
| 第7層 |  アプリケーション層  | ゲートウェイ |
| 第6層 | プレゼンテーション層 |              |
| 第5層 |     セッション層     |              |
| 第4層 |   トランスポート層   |              |
| 第3層 |    ネットワーク層    |    ルータ    |
| 第2層 |    データリンク層    |   ブリッジ   |
| 第1層 |        物理層        |   リピータ   |

### 物理層

機器と機器を**物理的につなぐ**ことに関するルールを決める層である。
- ケーブルの口金の形
- 流れる電流の電気的な性質
- 周波数
- etc.

### データリンク層

**同じネットワーク内**にある通信機器とのやり取りに関するルールを決めるそうである。
- ==イーサネット==
- ==MACアドレス==

### ネットワーク層

**異なるネットワーク**とのやり取りに関するルールを決める層である。
- ==IP==

### トランスポート層

**データの品質管理**に関するルールを決める層である。
- 転送エラーの検出
- 送信データ量の調整
- ==ポート番号==で送受信するソフトを特定する
- ==TCP==
- ==UDP==

### セッション層

通信の目的に合わせた送受信管理に関するルールを決める層である。
- コネクション確立
- データ転送のタイミング管理
- 半二重通信 (送受信を切り替えながら行う)
- 全二重通信 (送受信を同時に行う)

### プレゼンテーション層

**データの表現形式**に関するルールを決める層である。
- 送受信データが圧縮されたかどうか
- 送受信データの文字コードはなんなのか

### アプリケーション層

アプリがやり取りする情報に関するルールを決める層である。
- SMTP: メール
- HTTP

## ネットワークの種類

- LAN `(Local Area Network)`
    - イーサネット
- WAN `(Wide Area Network)`
    - 一般的に通信事業者が介在してサービスを提供している
    - ATM
- コネクション型通信
    - 通信相手の状態を確認してから通信開始
    - 安心確実だが、手間と時間が必要
- コネクションレス型通信
    - 通信相手の状態を確認せずに一方的に送信
    - リアルタイム通信に向いている
    - 通信の送達性が保証されない
- 回線交換
    - 通信してる間に回線が占有される。電話など
    - 長所: 通信品質がよく、短時間に大量のデータを送れる
    - 短所: 回線の使用効率が悪いし、少量データを長時間にわたって送信する場合のコストが高い
- パケット交換
    - 通信データをパケット単位に区切って、各パケットにヘッダをつけて送信。インターネットなど
    - **パケットの多重**: 大量のパケットが送信されていても、その合間に自分のパケットを送れる
    - **耐障害性**: ネットワークにはパケット交換機が設置され、送られてきたパケットを蓄積しつつ、ネットワークの状況を見て次の交換機に転送するため、転送を待機したり迂回ルートをとったりできる
    - **異機種間接続**: パケットを一度交換きに蓄積して回線速度やプロトコルを調整できるため、端末同士が違っていても問題ない
    - 短所: 遅延が大きい、リアルタイム通信やバースト通信に不向き、セキュリティを維持するコストが高い

## 集中処理と分散処理

|  処理の方式  |                                                    説明 |                                 |
|:------------:|:---------------------------------------------------------------------------------------:|
|   集中処理   |  ほぼ全ての処理やプロトコルの制御をメインフレームが行う。情報資産を一元的に管理できるが、柔軟性が低い。 |
|   分散処理   | いわゆるクライアントサーバシステム。構造変化に柔軟に対応しやすいが、全体を協調させるためのコストが大きい。**情報漏洩が起きやすい。** |
| ピアツーピア | コンピュータをすべて対等な関係でつなげる方式。ファイル交換、IP電話、Skypeなど                         |                                                                                                          |     |

- EUD `(End User Development)`
- EUC `(End User Computing)`
- EAI `(Enterprise Application Integration)`: 分散したシステムを連携させることで業務効率を上げる
- Fat Client
    - 処理能力やアプリケーションの大部分をクライアント側で実行する。クライアント側にたくさんのデータを持たせる
    - メリット: ネットが遅い環境でも快適に動作できる
    - デメリット: クライアントのスペックが求められる。データ同期の問題や、データ漏洩のリスクがある。
- Thin Client
    - 端末自体にはデータやアプリケーションなどを保存せず、社内にあるサーバーでほとんどすべての情報を管理する
    - メリット: データが一元化されるため、セキュリティ性が高い。クライアントは低スペックでも大丈夫。
    - デメリット: 常に通信する必要があるため、ネットワークに影響されやすい

## 仮想化とクラウド

- 仮想化は==運用性や可用性を向上するため==の手段
- サーバの仮想化: ホストOS型、ハイパーバイザ型
- デスクトップ仮想化
    - VDI (Virtual Desktop Infrastructure)
    - 手元のマシンからサーバにある仮想デスクトップに接続する

### ネットワークの仮想化

- SDN
    - Software Defined Networking
    - 目標①: 動的なネットワーク構成の変更 (混雑時に素早く経路を変更するなど)
    - 目標②: 同一ネットワーク内の通信機器の最大効率の達成
    - WANに適用したものが`SD-WAN`
- OpenFlow
    - SDNを組むための技術で、デファクトになっている
    - 管理機能と転送機能の分離: OpenFlowコントローラ、OpenFlowスイッチ
    - コントローラがスイッチを管理するために、各スイッチに`Datapatch ID`と呼ばれる`64ビット`の識別子を与える
    - Openflowチャンネルは物理的にイーサネットで良いが、==データ転送とは別にTCPやTLSでコネクションする==
    - 各OpenFlowスイッチは`フローテーブル`を持ち、そこには転送先が記載されている
- NFV
    - Network Function Virtualization
    - サーバ上に仮装的なルータ、スイッチ、ファイアウォールを構築する
    - ネットワーク機器の仮想化
    - 省スペース、運用・保守効率の向上

## もののインターネット

- IoT
    - Internet of Things
    - `エッジコンピューティング`により応答速度を向上
- M2M
    - Machine to Machine
    - インターネットを介さない場合に該当する
- IoT機器の特徴
    - 電力確保に不安がある
    - 少量の通信を低頻度で行う
- 通信プロトコル
    - LPWA技術
        - Low Power, Wide Area
        - 代表として`LoRa`がある
    - ==MQTT==
        - Message Queuing Telemetry Transport
        - IPネットワーク上で動作する==低遅延で転送することに特化した==軽量プロトコル
        - Publish/Subscribe型の配信形態をとる
    - ==MQTTS==
        - MQTT SSL
