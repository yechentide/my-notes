# 色々な問題

## ダイクストラ法(Dijkstra's algorithm)

このアルゴリズムは、最短経路問題を解くアルゴリズムの中で、理論的に最も効率的なアルゴリズムである。  
==重みが非負である場合==に、あるノードから全てのノードへの最短経路を求められる  
あるノードから近いノードへの経路を順に確定し、その情報を元に遠いノードへの経路を確定するというアルゴリズムで、  
動的計画法の一種であり、貪欲法の一種でもある。
> 動的計画法 (Dynamic Programming, DP)
>> 解こうとする問題を複数の部分問題に分割し、部分問題の結果を用いて、問題を解く方法

ダイクストラ法は貪欲法の中でも最適解が得られることが知られているアルゴリズムである。
> 貪欲法 (欲張り法)(greedy algorithm)
>> 貪欲にその時々で最善な解を選択することを繰り返すアルゴリズムで、最適解が得られる場合と得られない場合がある

### ダイクストラ法のアルゴリズム

1. 最短経路が確定したノードのラベルを確定ラベル、それ以外を一時ラベルとし、  
    始点ノードの一時ラベルを0、それ以外のノードの一時ラベルを無限大に設定する
2. 一時ラベルの中で最小のノードxを探す
3. ノードxを確定ラベルに変更し、隣接するノードの一時ラベルを、  
    一時ラベルの値とノードxのラベルの値とその間のエッジの重みを足したものとを比べて、小さい方の値に変更する
4. 上記2,3を繰返し、全てのノードが確定ラベルになったら終了する

## 巡回セールスマン問題(traveling salesman ploblem、TSP)

複数の都市(ノード)とその都市間(エッジ)の移動コストが与えられたとき、  
全ての都市をちょうど1回ずつ巡り出発地に戻る、コストが最小の巡回路を求める問題である。  
このような問題を一般的に、==組み合わせ最適化問題(combinatorial optimization)==という  
巡回セールスマン問題は、NP困難問題であるため、  
任意の大きさの任意の問題に対して、多項式時間アルゴリズムが存在しない、計算量的に困難な問題である  
ただし、大きさが比較的小さく、解が得られない問題例があっても良ければ、最適解を求めるアルゴリズムはいくつか知られている
> NP困難問題
>> NP完全と同等かそれ以上に難しい問題

巡回セールスマン問題の解法としては、近似解を求めるアルゴリズムがいくつか知られている
- Nearest Neighbor法
- Nearest Insertion法

### Nearest Neighbor法

Nearest Neighbor法の計算量は都市数(ノード数)をnとして、O(nlog n)である
1. 適当な都市を選び、出発点とする
2. 全ての都市を訪問するまで以下を繰り返す
    - 未訪問の都市で、現在いる都市から最も近い都市を選ぶ
    - 現在いる都市と選んだ都市を接続し、選んだ都市に移動する
3. 現在いる都市と出発点を接続する

## 中国人郵便配達問題

巡回セールスマン問題が全てのノードを巡る問題だったのに対して、  
中国人郵便配達問題は全てのエッジ(ノードではない)を少なくとも1回ずつ通る最小の巡回路を求める問題である  
巡回セールスマン問題と違い、多項式時間(計算量はO(n^3^))で解が得られる。(nはノードの数)

### 解法

中国人郵便配達問題の解としては、グラフがオイラー閉路を持つならば、それが解となる  
オイラー閉路が存在するかどうかを問う問題を一筆書き問題(or ケーニヒスベルクの橋問題)という
> オイラー閉路
>> グラフの全てのエッジを1回だけ通る閉路のこと  
>> オイラー閉路が存在するための必要十分条件は、==グラフの全てのノードの次数が偶数==であること

## 8Queen問題

8Queen問題とは「8×8のチェス盤上に8つのクイーンを配置するとき、どの駒も他の駒に取られないように配置する」という問題である  
チェスのクイーンは、上下、左右、斜めにどこまでも進むことができる  
この問題を解くには、実際に駒を配置して確かめなくてはならず、いわゆる総当たりによる解法しかない  
8×8の盤面上にクイーンを配置する組み合わせは、~64~C~8~=4426165368(約44億)通りとなるが、  
各行および各列には1つしかクイーンを配置できないことは明らかですので、  
実際の組み合わせは8!=40320通りとなり、現実的に解けそうな量になる。  
この組み合わせを全て試せば、その中に解があるはずなので、いつかは答えが見つかる  
いま考えている問題は8Queen問題なのだが、これを一般化したnQueen問題の場合、計算量がO(n!)なので、  
nが大きくなると解くことが困難になることはすぐにわかる。  
解が見つかることが絶対ない場合、それ以降の探索を打ち切ることができる。このような方法をバックトラック法という
> バックトラック法 (後戻り法)(backtracking)
>> ほとんどの組み合わせ的な問題においては、解をもとめるための方程式は存在せず、 バックトラック法が唯一の解法であることが多い
